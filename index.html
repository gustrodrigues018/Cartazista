<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Controle de Estoque - Cartazista</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f3f3f3;
    margin: 0;
    padding: 20px;
    text-align: center;
  }

  h2 {
    color: #222;
    text-align: left;
    border-left: 5px solid #1e9b6c;
    padding-left: 10px;
    margin-top: 40px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px auto;
    background: white;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  th, td {
    border: 1px solid #ddd;
    padding: 12px 10px;
    text-align: center;
  }

  th {
    background-color: #2f2f2f;
    color: white;
    font-weight: bold;
  }

  tr:nth-child(even) {
    background-color: #f9f9f9;
  }

  button {
    padding: 6px 12px;
    border: none;
    border-radius: 5px;
    color: white;
    cursor: pointer;
    margin: 2px;
  }

  .entrada { background-color: #007bff; }
  .saida { background-color: #dc3545; }
  .excluir { background-color: #28a745; }
  .entrada:hover { background-color: #0056b3; }
  .saida:hover { background-color: #b02a37; }
  .excluir:hover { background-color: #1c7a33; }

  .container {
    width: 95%;
    margin: 0 auto;
  }

  input, select {
    padding: 8px;
    margin: 5px;
  }

  .formulario {
    margin: 20px auto;
    text-align: center;
  }
</style>
</head>
<body>

<div class="container">
  <h2>Adicionar Item</h2>
  <div class="formulario">
    <input type="text" id="nome" placeholder="Nome">
    <select id="categoria">
      <option value="Papel">Papel</option>
      <option value="Consumíveis">Consumíveis</option>
    </select>
    <input type="number" id="quantidade" placeholder="Quantidade">
    <input type="text" id="tipo" placeholder="Tipo (ex: branco, com orelha...)">
    <button class="entrada" onclick="adicionarItem()">Adicionar</button>
  </div>

  <h2>Papéis</h2>
  <table id="tabelaPapeis">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Categoria</th>
        <th>Quantidade</th>
        <th>Tipo de Papel</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <h2>Consumíveis</h2>
  <table id="tabelaConsumiveis">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Categoria</th>
        <th>Quantidade</th>
        <th>Tipo</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<script>
let estoque = JSON.parse(localStorage.getItem('estoqueCartazista')) || [];

function salvar() {
  localStorage.setItem('estoqueCartazista', JSON.stringify(estoque));
}

function renderizar() {
  const tabelaPapeis = document.querySelector("#tabelaPapeis tbody");
  const tabelaConsumiveis = document.querySelector("#tabelaConsumiveis tbody");
  tabelaPapeis.innerHTML = "";
  tabelaConsumiveis.innerHTML = "";

  estoque.forEach((item, i) => {
    let linha = document.createElement("tr");
    let colunas = `
      <td>${item.nome}</td>
      <td>${item.categoria}</td>
      <td>${item.quantidade}</td>
      <td>${item.tipo || "-"}</td>
      <td>
        <button class="entrada" onclick="alterar(${i}, 1)">Entrada</button>
        <button class="saida" onclick="alterar(${i}, -1)">Saída</button>
        <button class="excluir" onclick="excluir(${i})">Excluir</button>
      </td>
    `;
    linha.innerHTML = colunas;
    if (item.categoria === "Papel") tabelaPapeis.appendChild(linha);
    else tabelaConsumiveis.appendChild(linha);
  });
}

function adicionarItem() {
  const nome = document.getElementById("nome").value.trim();
  const categoria = document.getElementById("categoria").value;
  const quantidade = parseInt(document.getElementById("quantidade").value) || 0;
  const tipo = document.getElementById("tipo").value.trim();

  if (!nome) return alert("Preencha o nome do item!");

  estoque.push({ nome, categoria, quantidade, tipo });
  salvar();
  renderizar();

  document.getElementById("nome").value = "";
  document.getElementById("quantidade").value = "";
  document.getElementById("tipo").value = "";
}

function alterar(i, valor) {
  estoque[i].quantidade += valor;
  if (estoque[i].quantidade < 0) estoque[i].quantidade = 0;
  salvar();
  renderizar();
}

function excluir(i) {
  if (confirm("Deseja excluir este item?")) {
    estoque.splice(i, 1);
    salvar();
    renderizar();
  }
}

renderizar();
</script>
</body>
</html>
